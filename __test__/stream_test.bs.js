// Generated by BUCKLESCRIPT VERSION 2.2.3, PLEASE EDIT WITH CARE
'use strict';

var Jest = require("@glennsl/bs-jest/src/jest.js");
var Curry = require("bs-platform/lib/js/curry.js");
var Js_exn = require("bs-platform/lib/js/js_exn.js");
var Stream = require("stream");
var Cast$MyFirstApp = require("../src/Cast.bs.js");

describe("Stream", (function () {
        Jest.test("pause/unpause", (function () {
                var subject = new Stream.PassThrough();
                subject.resume().pause();
                return Jest.Expect[/* toBe */2](/* true */1, Jest.Expect[/* expect */0](+subject.isPaused()));
              }));
        return Jest.testAsync(/* None */0, "Pipe data through stream", (function (finish) {
                      var subject = new Stream.PassThrough();
                      var dest = new Stream.PassThrough();
                      var fixture = "I am the string";
                      subject.pipe(dest);
                      +subject.write(fixture, undefined);
                      dest.on("data", (function (out) {
                              var match = Cast$MyFirstApp.classifyDataOutput(out);
                              switch (match.tag | 0) {
                                case 0 : 
                                    return Curry._1(finish, Jest.Expect[/* toEqual */12](fixture, Jest.Expect[/* expect */0](match[0].toString())));
                                case 1 : 
                                case 2 : 
                                    return Js_exn.raiseError("Did not get buffer");
                                
                              }
                            }));
                      return /* () */0;
                    }));
      }));

/*  Not a pure module */
